{/* DO NOT EDIT! */}
{/* Automatically generated from docusaurus-template-liquid/templates/docusaurus. */}

{/* ------------------------------------------------------------------------ */}

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import Heading from '@theme/Heading';

import CommonNoAdministrativeRights from '../_common/_no-administrative-rights.mdx';

import ProjectTroubleshootingWindows from '../_project/_troubleshooting-windows.mdx';

{/* ------------------------------------------------------------------------ */}

## Install

:::caution

Please ensure that the **xpm** you are attempting to install is the
**xPack Project Manager**, as there are other projects that
unfortunately share the same name
(for example, verseles/xpm, the _uniX Package Manager_).

:::

Once the environment is correctly configured, use the following
command to install the **latest** version of **xpm**:

```sh
npm install --location=global xpm@latest
```

To install a **specific version**, specify it explicitly:

<CodeBlock language="sh"> {
`npm install --location=global xpm@0.20.8
`} </CodeBlock>

<Tabs groupId="operating-systems">

<TabItem value="windows" label="Windows" default>

On Windows, global Node.js packages are installed in the
user home folder, in `%APPDATA%\npm`
(like `C:\Users\ilg\AppData\Roaming\npm`), and managing packages
does not require administrative rights.

The result of installing **xpm** is a set of files in the `%APPDATA%\npm` folder:

```txt
C:\>dir "%APPDATA%"\npm\xpm*
 Volume in drive C has no label.
 Volume Serial Number is B02D-925C

 Directory of C:\Users\ilg\AppData\Roaming\npm

29/07/2024  07:24               397 xpm
29/07/2024  07:24               329 xpm.cmd
29/07/2024  07:24               821 xpm.ps1
               3 File(s)          1,547 bytes
               0 Dir(s)  39,088,439,296 bytes free
```

If you followed the instructions in the
prerequisites section, you should
already have this path configured and the program should start normally:

<CodeBlock language="console"> {
`C:\>xpm --version
0.20.8
`} </CodeBlock>

<ProjectTroubleshootingWindows />

</TabItem>

<TabItem value="macos" label="macOS">

On macOS, if you ran the `install-nvm-node-npm-xpm.sh` scripts described
in the previous section, you should
already have **npm** correctly configured to use a location in the home folder.

<CodeBlock language="console"> {
`% which xpm
/Users/ilg/.nvm/versions/node/${props.nodeVersion}/bin/xpm
`} </CodeBlock>

To test if **xpm** starts:

<CodeBlock language="console"> {
`% xpm --version
0.20.8
`} </CodeBlock>

<Heading as="h3">Show macOS hidden files</Heading>

The default location used to install the global packages is
below `~/Library`, a folder that, due to an unfortunate Apple decision,
is hidden for regular browsing in Finder.

To make it back visible, use:

```sh
/usr/bin/chflags nohidden ~/Library
xattr -d com.apple.FinderInfo ~/Library
```

A more general solution is to make all hidden files visible:

```sh
defaults write com.apple.Finder AppleShowAllFiles true
killall Finder
```

Another frustrating behaviour of the file browser is to hide names starting
with `.` (dot), which is unfortunate since the binary packages are
extracted in a folder named `.content`.

Fortunately there is a workaround for this too:

```console
cmd+shift+'.'
```

This keyboard shortcut functions as a toggle, using it once makes files
starting with dot visible,
and using it again reverts to hiding them.

</TabItem>

<TabItem value="linux" label="GNU/Linux">

On GNU/Linux, by default, when using system packages,
global Node.js packages are installed in
`/usr/local`, and managing them requires administrative rights,
but if you ran the `install-nvm-node-npm-xpm.sh` scripts described
in the previous section, you should
already have **npm** correctly configured to use a location in the home folder.

:::note

Support for Arm platforms was
added in the 0.6.2 release of xpm.

:::

To test if xpm starts:

<CodeBlock language="console"> {
`$ which xpm
/home/ilg/.nvm/versions/node/${props.nodeVersion}/bin/xpm
$ xpm --version
0.20.8
`} </CodeBlock>

</TabItem>

</Tabs>

## Uninstall

The command to remove **xpm** is:

```sh
npm uninstall --location=global xpm
```

<CommonNoAdministrativeRights />

## npx

If, for any reason, you decide not to install **xpm**, you can still
benefit from it by using the `npx` command, as a trampoline to start **xpm**:

<CodeBlock language="console"> {
`$ npx xpm --version
0.20.8
`} </CodeBlock>

However, for regular usage, this method is not efficient, since
**npx** will need to prepare the Node.js module
for each run, and this takes some time.

## npm folders

For more details on the folders used by npm, see
[npm-folders](https://docs.npmjs.com/files/folders).
